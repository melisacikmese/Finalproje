{% extends "base.html" %}

{% block content %}
<div class="page-header">
    <h1>ğŸ‘¥ Ãœye YÃ¶netimi</h1>
    <button class="btn btn-primary" onclick="openModal('addMemberModal')">+ Yeni Ãœye Ekle</button>
</div>

<!-- Arama -->
<div class="search-bar">
    <form method="GET" action="{{ url_for('members') }}" class="search-form">
        <input type="text" name="search" placeholder="Ä°sim, e-posta veya telefon ara..." value="{{ search }}" class="search-input">
        <button type="submit" class="btn btn-primary">ğŸ” Ara</button>
        <a href="{{ url_for('members') }}" class="btn btn-secondary">Temizle</a>
    </form>
</div>

<!-- Ãœye Listesi -->
<div class="table-container">
    {% if members %}
    <table class="data-table">
        <thead>
            <tr>
                <th>ID</th>
                <th>Ad Soyad</th>
                <th>E-posta</th>
                <th>Telefon</th>
                <th>Adres</th>
                <th>Ãœyelik Tarihi</th>
                <th>Ä°ÅŸlemler</th>
            </tr>
        </thead>
        <tbody>
            {% for member in members %}
            <tr>
                <td>{{ member.id }}</td>
                <td><strong>{{ member.name }}</strong></td>
                <td>ğŸ“§ {{ member.email }}</td>
                <td>{{ member.phone or '-' }}</td>
                <td>{{ member.address or '-' }}</td>
                <td>{{ member.membership_date }}</td>
                <td>
                    <button class="btn-icon" title="DÃ¼zenle">âœï¸</button>
                    <a href="{{ url_for('delete_member', member_id=member.id) }}" 
                       class="btn-icon" 
                       onclick="return confirm('Bu Ã¼yeyi silmek istediÄŸinizden emin misiniz?')"
                       title="Sil">ğŸ—‘ï¸</a>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    {% else %}
    <div class="empty-state">
        <div class="empty-icon">ğŸ‘¥</div>
        <h3>Ãœye bulunamadÄ±</h3>
        <p>Yeni Ã¼ye eklemek iÃ§in yukarÄ±daki butona tÄ±klayÄ±n</p>
    </div>
    {% endif %}
</div>

<!-- Ãœye Ekleme Modal -->
<div id="addMemberModal" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <h2>Yeni Ãœye Ekle</h2>
            <button class="modal-close" onclick="closeModal('addMemberModal')">&times;</button>
        </div>
        <form method="POST" action="{{ url_for('add_member') }}">
            <div class="form-grid">
                <div class="form-group full-width">
                    <label>Ad Soyad *</label>
                    <input type="text" name="name" required placeholder="Ãœye adÄ±nÄ± girin">
                </div>
                <div class="form-group">
                    <label>E-posta *</label>
                    <input type="email" name="email" required placeholder="ornek@email.com">
                </div>
                <div class="form-group">
                    <label>Telefon</label>
                    <input type="tel" name="phone" placeholder="0555 123 4567">
                </div>
                <div class="form-group full-width">
                    <label>Adres</label>
                    <textarea name="address" rows="3" placeholder="Ãœyenin adresini girin"></textarea>
                </div>
            </div>
            <div class="modal-footer">
                <button type="submit" class="btn btn-success">ğŸ’¾ Kaydet</button>
                <button type="button" class="btn btn-secondary" onclick="closeModal('addMemberModal')">Ä°ptal</button>
            </div>
        </form>
    </div>
</div>
{% endblock %}